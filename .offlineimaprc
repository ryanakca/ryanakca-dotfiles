# Sample minimal config file.  Copy this to ~/.offlineimaprc and edit to
# suit to get started fast.

[general]
metadata = ~/.offlineimap
accounts = QueensU
#, GMAIL
pythonfile=~/.offlineimap.py
# EIMEAR
maxsyncaccounts = 2

#### GMAIL Account Settings
[Account GMAIL]
localrepository = LocalGmail
remoterepository = RemoteGmail
autorefresh = 20
quick = 10
presynchook = imapfilter -c /home/ryan/.imapfilter/config.lua
postsynchook = imapfilter -c /home/ryan/.imapfilter/config.lua && /home/ryan/bin/run-mailcheck && notmuch new
foldersort = mycmp

[Repository LocalGmail]
#type = Maildir    
#localfolders = ~/.maildb/GMAIL 
#restoreatime = no  
type = IMAP
remotehost = localhost
remoteuser = ryan
remotepass = LOCAL_PASS

[Repository RemoteGmail]
foldersort = lambda x, y: mycmp(x, y)
type = Gmail
remoteuser = ryanakca@gmail.com
remotepass = GMAIL_PASS
spamfolder = [Google Mail]/Spam
trashfolder = [Google Mail]/Bin
realdelete = no
folderfilter = lambda folder: folder not in ['[Google Mail]/All Mail'] and not folder.startswith('QueensU.')

##### QueensU mail
[Account QueensU]
localrepository = LocalGmail
remoterepository = RemoteQueensU
autorefresh = 20
quick = 10
# presynchook = imapfilter
foldersort = lamba x, y: cmp(x, y)
postsynchook = /home/ryan/bin/run-mailcheck && notmuch new

[Repository RemoteQueensU]
# Add QueensU prefix when copying to local
nametrans = lambda foldername: 'QueensU.' + foldername
foldersort = lambda x, y: cmp(y, x)
type = IMAP
remoteuser = 9rak
remotehost = mail.queensu.ca
remotepass = QUEENSU_PASS

[Repository LocalQueensU]
type = IMAP
remotehost = localhost
remoteuser = ryan
remotepass = LOCAL_PASS
# Only copy folders from local to remote if they start with QueensU
folderfilter = lambda folder: folder.startswith('QueensU.')
# Remove QueensU prefix when copying to remote
nametrans = lambda folder: re.sub('^QueensU.', '', folder)

[mbnames]
enabled = no
filename = .muttrc.mailboxes
header = "mailboxes "
peritem = "+%(foldername)s"
sep = " "
footer = "\n"

[ui.Curses.Blinkenlights]
statuschar = %
