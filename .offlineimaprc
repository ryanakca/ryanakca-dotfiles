# Sample minimal config file.  Copy this to ~/.offlineimaprc and edit to
# suit to get started fast.

[general]
metadata = ~/.offlineimap
accounts = GMAIL, QueensU, McGillSOCS, ENSL, MIT
#, GMAIL
pythonfile=~/.offlineimap.py
maxsyncaccounts = 5
sslcacertfile = SSL_CERTS

#### GMAIL Account Settings
[Account GMAIL]
localrepository = LocalGmail
remoterepository = RemoteGmail
autorefresh = 20
quick = 10
presynchook = imapfilter -c /home/ryan/.imapfilter/config.lua
postsynchook = imapfilter -c /home/ryan/.imapfilter/config.lua && /home/ryan/bin/run-mailcheck && notmuch new
foldersort = mycmp

[Repository LocalGmail]
#type = Maildir    
#localfolders = ~/.maildb/GMAIL 
#restoreatime = no  
type = IMAP
remotehost = localhost
remoteuser = ryan
remotepass = LOCAL_PASS
# Don't try to sync local changes to [Google Mail]/Chat remotely, it's read-only
# on Gmail's end.
folderfilter = lambda folder: True not in map(lambda x: folder.startswith(x), ['MIT', 'QueensU', 'McGill', 'McGSOCS', 'ENSL', '[Google Mail]/All Mail', '[Google Mail]/Important', '[Google Mail]/Chat'])
idlefolders = ['INBOX']

[Repository RemoteGmail]
foldersort = lambda x, y: mycmp(x, y)
type = Gmail
maxconnections = 4
remoteuser = ryanakca@gmail.com
remotepass = GMAIL_PASS
spamfolder = [Google Mail]/Spam
trashfolder = [Google Mail]/Bin
realdelete = no
folderfilter = lambda folder: True not in map(lambda x: folder.startswith(x), ['MIT', 'QueensU', 'McGill', 'McGSOCS', 'ENSL', '[Google Mail]/All Mail', '[Google Mail]/Important'])
idlefolders = ['INBOX']
sslcacertfile = SSL_CERTS

##### QueensU mail
[Account QueensU]
localrepository = LocalQueensU
remoterepository = RemoteQueensU
autorefresh = 20
quick = 10
# presynchook = imapfilter
foldersort = lamba x, y: cmp(x, y)
postsynchook = /home/ryan/bin/run-mailcheck && notmuch new

[Repository RemoteQueensU]
foldersort = lambda x, y: cmp(y, x)
type = IMAP
remoteuser = 9rak@queensu.ca
remotehost = pod51018.outlook.com
remotepass = QUEENSU_PASS
remoteport = 993
ssl = yes
sslcacertfile = SSL_CERTS
# Add QueensU prefix when copying to local
nametrans = lambda foldername: 'QueensU.' + foldername

[Repository LocalQueensU]
type = IMAP
remotehost = localhost
remoteuser = ryan
remotepass = LOCAL_PASS
# Only copy folders from local to remote if they start with QueensU
folderfilter = lambda folder: folder.startswith('QueensU.')
# Remove QueensU prefix when copying to remote
nametrans = lambda folder: re.sub('^QueensU.', '', folder)

#### McGillSOCS mail
[Account McGillSOCS]
localrepository = LocalMcGillSOCS
remoterepository = RemoteMcGillSOCS
autorefresh = 20
quick = 10
# presynchook = imapfilter
foldersort = lamba x, y: cmp(x, y)
postsynchook = /home/ryan/bin/run-mailcheck && notmuch new

[Repository RemoteMcGillSOCS]
foldersort = lambda x, y: cmp(y, x)
type = IMAP
remoteuser = ryank
remotehost = mail.cs.mcgill.ca
remotepass = MCGSOCS_PASS
ssl = yes
cert_fingerprint = ec83347f1871cb06d12910bf88b6ebea53ee4d33
# sslcacertfile = /home/ryan/.mutt/certs/mcgillsocs.crt
# Add McGSOCS prefix when copying to local
nametrans = lambda foldername: 'McGSOCS.' + foldername
folderfilter = lambda folder: folder not in ['user.globalspam', 'user.graduate', 'user.undergraduate']

[Repository LocalMcGillSOCS]
type = IMAP
remotehost = localhost
remoteuser = ryan
remotepass = LOCAL_PASS
# Only copy folders from local to remote if they start with McGSOCS
folderfilter = lambda folder: folder.startswith('McGSOCS.')
# Remove McGSOCS prefix when copying to remote
nametrans = lambda folder: re.sub('^McGSOCS.', '', folder)

#### McGill mail
[Account McGill]
localrepository = LocalMcGill
remoterepository = RemoteMcGill
autorefresh = 20
quick = 10
# presynchook = imapfilter
foldersort = lamba x, y: cmp(x, y)
postsynchook = /home/ryan/bin/run-mailcheck && notmuch new

[Repository RemoteMcGill]
foldersort = lambda x, y: cmp(y, x)
type = IMAP
remoteuser = ryan.kavanagh@mail.mcgill.ca
remotehost = exchange.mcgill.ca
remotepass = MCGILL_PASS
remortport = 993
cert_fingerprint = 9f3fc06c357ecfcaaaf0cebedfb8d6b94f0926f6
ssl = yes
# sslcacertfile = /home/ryan/.mutt/certs/mcgillsocs.crt
# Add McGSOCS prefix when copying to local
nametrans = lambda foldername: 'McGill.' + foldername

[Repository LocalMcGill]
type = IMAP
remotehost = localhost
remoteuser = ryan
remotepass = LOCAL_PASS
# Only copy folders from local to remote if they start with McGSOCS
folderfilter = lambda folder: folder.startswith('McGill.')
# Remove McGSOCS prefix when copying to remote
nametrans = lambda folder: re.sub('^McGill.', '', folder)

#### MIT mail
[Account MIT]
localrepository = LocalMIT
remoterepository = RemoteMIT
autorefresh = 20
quick = 10
# presynchook = imapfilter
foldersort = lamba x, y: cmp(x, y)
postsynchook = /home/ryan/bin/run-mailcheck && notmuch new

[Repository RemoteMIT]
foldersort = lambda x, y: cmp(y, x)
type = IMAP
remoteuser = rakavan
remotehost = imap.exchange.mit.edu
remotepass = MIT_PASS
remortport = 993
sslcacertfile = SSL_CERTS
ssl = yes
ssl_version = tls1
nametrans = lambda foldername: 'MIT.' + foldername
folderfilter = lambda folder: folder not in ['Calendar']

[Repository LocalMIT]
type = IMAP
remotehost = localhost
remoteuser = ryan
remotepass = LOCAL_PASS
folderfilter = lambda folder: folder.startswith('MIT.')
nametrans = lambda folder: re.sub('^MIT.', '', folder)

#### ENSL mail
[Account ENS]
localrepository = LocalENS
remoterepository = RemoteENS
autorefresh = 20
quick = 10
# presynchook = imapfilter
foldersort = lamba x, y: cmp(x, y)
postsynchook = /home/ryan/bin/run-mailcheck && notmuch new

[Repository RemoteENS]
foldersort = lambda x, y: cmp(y, x)
type = IMAP
remoteuser = rkavanag
remotehost = imaps.ens-lyon.fr
remotepass = ENS_PASS
remortport = 993
sslcacertfile = SSL_CERTS
ssl = yes
ssl_version = tls1
nametrans = lambda foldername: 'ENSL.' + foldername
folderfilter = lambda folder: folder not in ['Calendar']

[Repository LocalENS]
type = IMAP
remotehost = localhost
remoteuser = ryan
remotepass = LOCAL_PASS
folderfilter = lambda folder: folder.startswith('ENSL.')
nametrans = lambda folder: re.sub('^ENSL.', '', folder)

[mbnames]
enabled = no
filename = .muttrc.mailboxes
header = "mailboxes "
peritem = "+%(foldername)s"
sep = " "
footer = "\n"

[ui.Curses.Blinkenlights]
statuschar = %
